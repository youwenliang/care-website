{"ast":null,"code":"var _jsxFileName = \"/Users/mliang/Websites/care-website/src/components/Map.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport '../App.css';\nimport Taiwan from \"@svg-maps/taiwan.main\";\nimport { RadioSVGMap } from \"react-svg-map\";\nimport \"react-svg-map/lib/index.css\";\nimport logo3 from '../images/logo3.png';\nimport searchBtn from '../images/保腎護心網layout物件_57.png';\nimport closeBtn from '../images/保腎護心網layout物件_58.png';\nimport backBtn from '../images/保腎護心網layout物件_59.png';\nimport mapBtn from '../images/map.png'; // Data\n\nimport data from '../data/data.js';\nconst cData = data.content;\nconst mData = data.map;\nvar dis = [],\n    list = [],\n    allList = [];\nvar sCity = [],\n    sDis = [];\nvar filteredClinics = null;\n\nclass Map extends Component {\n  constructor(props) {\n    super(props);\n\n    this.checkMobile = () => {\n      this.setState({\n        width: window.innerWidth\n      });\n      sCity = [];\n      $('#sCity').empty();\n      $('#sCity').append('<option value=\"\" disabled selected>縣市</option>');\n\n      for (var k = 0; k < mData.length; k++) {\n        if (!sCity.includes(mData[k][\"address\"].substring(0, 3))) {\n          sCity.push(mData[k][\"address\"].substring(0, 3));\n          $('#sCity').append('<option>' + mData[k][\"address\"].substring(0, 3) + '</option>');\n        }\n      }\n    };\n\n    this.detailMap = e => {\n      var n = e.target.getAttribute('data-id');\n      var i = e.target.getAttribute('data-order');\n\n      if (this.state.detail) {\n        this.setState({\n          detail: false,\n          currentClinic: null\n        }); // $('#detailInfo').addClass('overflow-y-scroll');\n      } else {\n        this.setState({\n          detail: true,\n          currentClinic: [n, i]\n        }); // $('#detailInfo').removeClass('overflow-y-scroll');\n      }\n    };\n\n    this.openMap = () => {\n      $('#detailInfo').removeClass(\"o-0\");\n      $('#mapInfo').removeClass(\"w-100\");\n      $('#mapInfo').addClass(\"w-50\");\n      this.clinincList();\n      this.setState({\n        open: true,\n        currentClinic: null\n      });\n    };\n\n    this.resetMap = () => {\n      $('#detailInfo').addClass(\"o-0\");\n      $('#mapInfo').addClass(\"w-100\");\n      $('#mapInfo').removeClass(\"w-50\");\n      var $t = this;\n      var $p = $('path[aria-checked=\"true\"]');\n      $p.attr('aria-checked', \"false\");\n      $p.attr('aria-before', $t.state.currentMap);\n      $p.attr('tabindex', \"-1\");\n      $t.setState({\n        currentMap: null,\n        detail: false,\n        same: true,\n        value: \"\",\n        allList: null,\n        open: false,\n        dis: false\n      });\n      $('#sCity option').prop('selected', function () {\n        return this.defaultSelected;\n      });\n      $('#sDis option').prop('selected', function () {\n        return this.defaultSelected;\n      });\n    };\n\n    this.clinincList = () => {\n      dis = [];\n      list = [];\n      filteredClinics = mData.filter(s => {\n        var check = s.city + \" \" + s.name + \" \" + s.address;\n        return check.indexOf(this.state.search) !== -1;\n      });\n      filteredClinics.map((s, i) => {\n        var count = s.address.indexOf('區') - 2;\n        var temp = s.address.substring(count, count + 3);\n\n        if (!dis.includes(temp)) {\n          dis.push(temp);\n          list.push({\n            \"dis\": temp,\n            \"name\": [s.name],\n            \"address\": [s.address],\n            \"phone\": [s.phone]\n          });\n        } else {\n          for (var j = 0; j < list.length; j++) {\n            if (list[j][\"dis\"] === temp) {\n              list[j][\"name\"].push(s.name);\n              list[j][\"address\"].push(s.address);\n              list[j][\"phone\"].push(s.phone);\n            }\n          }\n        }\n\n        return true;\n      });\n      allList = [];\n      var styleH1 = this.state.width <= 969 ? \"white bg-blue-3\" : \"blue-2 bg-white\";\n\n      for (let j = 0; j < list.length; j++) {\n        var temp = this.state.dis ? /*#__PURE__*/React.createElement(\"div\", {\n          className: \"w-100 flex flex-wrap flex-gap tc\",\n          key: j,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 11\n          }\n        }, list[j][\"name\"].map((name, i) => /*#__PURE__*/React.createElement(\"p\", {\n          className: \"flex-grow-0 w-50 cp f16_ fw4 mv2 pa2\",\n          \"data-id\": j,\n          \"data-order\": i,\n          onClick: this.detailMap,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 15\n          }\n        }, name))) : /*#__PURE__*/React.createElement(\"div\", {\n          className: \"w-50 tc\",\n          key: j,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"h1\", {\n          className: styleH1 + \" fw5 f24_ ph4-l ph3 pv3 brM dib mb0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }\n        }, list[j][\"dis\"]), list[j][\"name\"].map((name, i) => /*#__PURE__*/React.createElement(\"p\", {\n          className: \"cp f16_ fw4\",\n          \"data-id\": j,\n          \"data-order\": i,\n          onClick: this.detailMap,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }\n        }, name)));\n        allList.push(temp);\n      }\n\n      if (list.length === 0) {\n        var temp1 = /*#__PURE__*/React.createElement(\"h3\", {\n          className: \"tc black w-100 fw5\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 22\n          }\n        }, \"\\u7121\\u641C\\u5C0B\\u7D50\\u679C\");\n        allList.push(temp1);\n      }\n\n      this.setState({\n        allList: allList\n      });\n    };\n\n    this.state = {\n      width: window.innerWidth,\n      value: \"\",\n      search: null,\n      currentMap: null,\n      same: false,\n      allList: [],\n      sCity: null,\n      sDis: null,\n      open: false,\n      detail: false,\n      currentClinic: null,\n      dis: false\n    };\n    this.handleSelect1 = this.handleSelect1.bind(this);\n    this.handleSelect2 = this.handleSelect2.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.detailMap = this.detailMap.bind(this);\n  }\n\n  componentDidMount() {\n    var $t = this; // Map\n\n    $('.svg-map__location').each(function () {\n      if ($(this).attr('id').indexOf(\"city\") >= 0) {\n        $(this).attr('aria-city', 'true');\n      }\n    });\n    window.addEventListener('resize', this.checkMobile);\n    this.checkMobile();\n    var $description = $(\".description\");\n    $('path').hover(function (e) {\n      e.preventDefault();\n      $(this).attr(\"class\", \"heyo\");\n      $description.addClass('active');\n      $description.html($(this).attr('name'));\n    }, function () {\n      $description.removeClass('active');\n    });\n    $(document).on('mousemove', function (e) {\n      $description.css({\n        left: e.pageX,\n        top: e.pageY - 70\n      });\n    }); // Maps\n\n    $('path').click(function () {\n      $t.setState({\n        value: \"\",\n        detail: false\n      });\n\n      if ($(this).attr('aria-checked') === \"true\") {\n        $(this).attr('aria-checked', \"false\");\n        $(this).attr('aria-before', $t.state.currentMap);\n        $(this).attr('tabindex', \"-1\");\n        setTimeout(function () {\n          $t.setState({\n            currentMap: null\n          });\n        }, 300);\n        $('#detailInfo').addClass(\"o-0\");\n        $('#mapInfo').addClass(\"w-100\");\n        $('#mapInfo').removeClass(\"w-50\");\n        $t.setState({\n          same: true,\n          open: false\n        });\n      } else {\n        if ($(this).attr('aria-before')) {\n          $t.setState({\n            currentMap: $(this).attr('aria-before'),\n            search: $(this).attr('aria-before')\n          });\n          var thisID = $(this).attr('id');\n          $('path').each(function () {\n            if ($(this).attr('id') !== thisID) $(this).attr('aria-before', '');\n          });\n        } else {\n          $t.setState({\n            same: false\n          });\n          $('path').each(function () {\n            if ($(this).attr('id') !== thisID) $(this).attr('aria-before', '');\n          });\n        }\n\n        if ($t.state.same) {\n          $(this).attr('aria-checked', \"true\");\n          $(this).attr('tabindex', \"0\");\n          $t.openMap();\n        }\n      }\n    });\n  }\n\n  handleSelect1(event) {\n    var $t = this;\n    this.setState({\n      value: event.target.value,\n      sCity: event.target.value\n    }, () => {\n      sDis = [];\n      $('#sDis').empty();\n      $('#sDis').append('<option value=\"\" disabled selected>地區</option>');\n\n      for (var i = 0; i < mData.length; i++) {\n        if (mData[i][\"address\"].includes($t.state.value)) {\n          console.log(mData[i]);\n          console.log(this.state.value);\n\n          if (!sDis.includes(mData[i][\"address\"].substring(3, 6))) {\n            sDis.push(mData[i][\"address\"].substring(3, 6));\n            $('#sDis').append('<option>' + mData[i][\"address\"].substring(3, 6) + '</option>');\n          }\n        }\n      }\n    });\n  }\n\n  handleSelect2(event) {\n    this.setState({\n      sDis: event.target.value\n    }, () => {\n      this.setState({\n        value: this.state.sCity + this.state.sDis,\n        dis: true\n      });\n    });\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    this.setState({\n      search: this.state.value\n    }, () => {\n      this.resetMap();\n      this.openMap();\n    });\n    event.preventDefault();\n  }\n\n  render() {\n    const {\n      width\n    } = this.state;\n    const isMobile = width <= 959;\n    var $t = this;\n    var form = isMobile ? {\n      position: \"relative\",\n      width: \"100%\",\n      borderRadius: \"16px\",\n      fontSize: \"1.2rem\"\n    } : {\n      position: \"absolute\",\n      left: \"0\",\n      right: \"0\",\n      bottom: \"30px\",\n      width: \"235px\",\n      transform: \"translateX(80%)\",\n      borderRadius: \"16px\",\n      backgroundImage: \"url(\" + searchBtn + \")\",\n      backgroundPosition: \"10px center\",\n      backgroundSize: \"30px\",\n      backgroundRepeat: \"no-repeat\"\n    };\n    var inputBox = {\n      borderRadius: \"8px\",\n      width: \"100%\",\n      backgroundImage: \"url(\" + searchBtn + \")\",\n      backgroundPosition: \"10px center\",\n      backgroundSize: \"30px\",\n      backgroundRepeat: \"no-repeat\"\n    };\n    var input = isMobile ? {\n      borderRadius: \"8px\",\n      width: \"calc(100% - 40px)\",\n      left: \"40px\"\n    } : {\n      borderRadius: \"8px\",\n      width: \"170px\",\n      left: \"32px\"\n    };\n    var box = {\n      minHeight: \"400px\",\n      maxHeight: \"600px\"\n    };\n    var page1box = {\n      maxHeight: \"504px\"\n    };\n    var drop = {\n      gap: \"16px\"\n    };\n    var ahref = /*#__PURE__*/React.createElement(\"a\", {\n      href: this.state.currentClinic && filteredClinics ? \"http://maps.google.com/?q=\" + list[this.state.currentClinic[0]][\"name\"][this.state.currentClinic[1]] : null,\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: mapBtn,\n      className: \"dib cp ml2\",\n      width: \"40\",\n      alt: \"map\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 212\n      }\n    }));\n    return /*#__PURE__*/React.createElement(\"section\", {\n      id: \"map\",\n      className: \"pv0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container bg-blue-3 pa4-l pv4 ph3 brBox mh3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"title bg-blue-1 pre-wrap lh-copy\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 13\n      }\n    }, cData.map[\"title\"]), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 13\n      }\n    }), isMobile ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"relative bg-white mh2 brXL mt3\",\n      style: box,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pa4 absolute w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"db center mt2 mb3\",\n      src: logo3,\n      width: \"60\",\n      alt: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      id: \"searchInput\",\n      className: \"center\",\n      style: form,\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bg-blue-3 pa2 mb3\",\n      style: inputBox,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      style: input,\n      className: \"bg-white pa2 relative\",\n      type: \"text\",\n      id: \"search\",\n      name: \"clinic\",\n      placeholder: \"\\u8F38\\u5165\\u8A3A\\u6240\\u540D\\u7A31\\u67E5\\u8A62\",\n      value: this.state.value,\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 27\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"f40 flex mv0\",\n      style: drop,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tc select flex-grow brS\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      name: \"city\",\n      id: \"sCity\",\n      onChange: this.handleSelect1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      disabled: true,\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 31\n      }\n    }, \"\\u7E23\\u5E02\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tc select flex-grow brS\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      name: \"dis\",\n      id: \"sDis\",\n      onChange: this.handleSelect2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      disabled: true,\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 31\n      }\n    }, \"\\u5730\\u5340\")))), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"db tc center mt3 bg-blue-1 pv3 cp ph4 white br3 f40 fw5\",\n      type: \"submit\",\n      value: \"\\u67E5\\u8A62\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"detailInfo\",\n      className: \"o-0 pa2 relative z-1 bg-white brXL\",\n      style: box,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page1 pt5 flex flex-wrap pb4 overflow-y-scroll content-start\",\n      style: page1box,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 23\n      }\n    }, this.state.allList), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page2 absolute top-0 left-0 w-100 h-100 bg-white ph4 pv5 brXL \" + this.state.detail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"overflow-y-scroll h-100 mv3 blue-2 tl overflow-x-hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"f32_ fw5 mb0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 27\n      }\n    }, this.state.currentClinic && filteredClinics ? list[this.state.currentClinic[0]][\"name\"][this.state.currentClinic[1]] : null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"f24_ dib mr2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 29\n      }\n    }, \"\\u5730\\u5740\\uFF1A\", this.state.currentClinic && filteredClinics ? list[this.state.currentClinic[0]][\"address\"][this.state.currentClinic[1]] : null), ahref), /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"bw1 bg-blue-2 mv2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"f18_ fw5 mt4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 27\n      }\n    }, \"\\u9580\\u8A3A\\u96FB\\u8A71\\uFF1A\", this.state.currentClinic && filteredClinics ? list[this.state.currentClinic[0]][\"phone\"][this.state.currentClinic[1]] : null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"back\",\n      onClick: this.detailMap,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: backBtn,\n      alt: \"back\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 72\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"close\",\n      onClick: () => {\n        this.resetMap();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: closeBtn,\n      alt: \"close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 80\n      }\n    })))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mapContainer bg-white center brXL cf pa4 relative mb3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"mapInfo\",\n      className: \"fl w-100 relative h-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(RadioSVGMap, {\n      map: Taiwan,\n      onChange: function (n) {\n        $t.setState({\n          currentMap: n.id,\n          search: n.id\n        }, () => {\n          $t.openMap();\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      id: \"searchInput\",\n      className: \"center bg-blue-3 pa3\",\n      style: form,\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      style: input,\n      className: \"bg-white pa2 relative\",\n      type: \"text\",\n      id: \"search\",\n      name: \"clinic\",\n      placeholder: \"\\u8F38\\u5165\\u8A3A\\u6240\\u540D\\u7A31\\u67E5\\u8A62\",\n      value: this.state.value,\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"detailInfo\",\n      className: \"fl brXL bg-blue-3 o-0 absolute pa2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page1 flex flex-wrap overflow-y-scroll h-100 ph4 pv5 content-start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 23\n      }\n    }, this.state.allList, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"close\",\n      onClick: () => {\n        this.resetMap();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"close\",\n      src: closeBtn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 82\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page2 absolute top-0 left-0 w-100 h-100 bg-blue-3 ph4 pv5 brXL \" + this.state.detail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"overflow-y-scroll h-100 mv3 blue-2 tl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"f24_ fw5 mb0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 27\n      }\n    }, this.state.currentClinic && filteredClinics ? list[this.state.currentClinic[0]][\"name\"][this.state.currentClinic[1]] : null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"f16_ dib\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 29\n      }\n    }, \"\\u5730\\u5740\\uFF1A\", this.state.currentClinic && filteredClinics ? list[this.state.currentClinic[0]][\"address\"][this.state.currentClinic[1]] : null), ahref), /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"bw1 bg-white mv2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"f16_ fw5 mt4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 27\n      }\n    }, \"\\u9580\\u8A3A\\u96FB\\u8A71\\uFF1A\", this.state.currentClinic && filteredClinics ? list[this.state.currentClinic[0]][\"phone\"][this.state.currentClinic[1]] : null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"back\",\n      onClick: this.detailMap,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"back\",\n      src: backBtn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 72\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"close\",\n      onClick: () => {\n        this.resetMap();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"close\",\n      src: closeBtn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 82\n      }\n    })))), /*#__PURE__*/React.createElement(\"img\", {\n      className: \"absolute pn bottom-0 left-0 pa5 transition\",\n      src: logo3,\n      alt: \"logo\",\n      width: this.state.open ? \"100\" : \"230\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 21\n      }\n    }))));\n  }\n\n}\n\nexport default Map;","map":{"version":3,"sources":["/Users/mliang/Websites/care-website/src/components/Map.js"],"names":["React","Component","$","Taiwan","RadioSVGMap","logo3","searchBtn","closeBtn","backBtn","mapBtn","data","cData","content","mData","map","dis","list","allList","sCity","sDis","filteredClinics","Map","constructor","props","checkMobile","setState","width","window","innerWidth","empty","append","k","length","includes","substring","push","detailMap","e","n","target","getAttribute","i","state","detail","currentClinic","openMap","removeClass","addClass","clinincList","open","resetMap","$t","$p","attr","currentMap","same","value","prop","defaultSelected","filter","s","check","city","name","address","indexOf","search","count","temp","phone","j","styleH1","temp1","handleSelect1","bind","handleSelect2","handleChange","handleSubmit","componentDidMount","each","addEventListener","$description","hover","preventDefault","html","document","on","css","left","pageX","top","pageY","click","setTimeout","thisID","event","console","log","render","isMobile","form","position","borderRadius","fontSize","right","bottom","transform","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","inputBox","input","box","minHeight","maxHeight","page1box","drop","gap","ahref","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport $ from 'jquery';\nimport '../App.css';\n\nimport Taiwan from \"@svg-maps/taiwan.main\";\nimport { RadioSVGMap} from \"react-svg-map\";\nimport \"react-svg-map/lib/index.css\";\nimport logo3 from '../images/logo3.png';\n\nimport searchBtn from '../images/保腎護心網layout物件_57.png';\nimport closeBtn from '../images/保腎護心網layout物件_58.png';\nimport backBtn from '../images/保腎護心網layout物件_59.png';\nimport mapBtn from '../images/map.png';\n\n// Data\nimport data from '../data/data.js'\nconst cData = data.content;\nconst mData = data.map;\nvar dis = [], list = [], allList = [];\nvar sCity = [], sDis = [];\nvar filteredClinics = null;\n\nclass Map extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      width: window.innerWidth,\n      value: \"\",\n      search: null,\n      currentMap: null,\n      same: false,\n      allList: [],\n      sCity: null,\n      sDis: null,\n      open: false,\n      detail: false,\n      currentClinic: null,\n      dis: false\n    }\n    this.handleSelect1 = this.handleSelect1.bind(this);\n    this.handleSelect2 = this.handleSelect2.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.detailMap = this.detailMap.bind(this);\n  }\n\n  componentDidMount(){\n    var $t = this;\n    // Map\n    $('.svg-map__location').each(function(){\n      if($(this).attr('id').indexOf(\"city\") >=0) {\n        $(this).attr('aria-city', 'true');\n      }\n    })\n    window.addEventListener('resize', this.checkMobile);\n    this.checkMobile()\n\n\n    var $description = $(\".description\");\n    $('path').hover(function(e) {\n      e.preventDefault();\n      $(this).attr(\"class\", \"heyo\");\n      $description.addClass('active');\n      $description.html($(this).attr('name'));\n    }, function() {\n      $description.removeClass('active');\n    });\n\n  $(document).on('mousemove', function(e){\n    $description.css({\n      left:  e.pageX,\n      top:   e.pageY - 70\n    });\n  });\n\n    // Maps\n    $('path').click(function(){\n      $t.setState({value: \"\", detail: false})\n      if($(this).attr('aria-checked') === \"true\") {\n        $(this).attr('aria-checked', \"false\");\n        $(this).attr('aria-before', $t.state.currentMap);\n        $(this).attr('tabindex', \"-1\");\n        setTimeout(function(){\n          $t.setState({currentMap:null})\n        },300)\n        $('#detailInfo').addClass(\"o-0\");\n        $('#mapInfo').addClass(\"w-100\");\n        $('#mapInfo').removeClass(\"w-50\");\n        $t.setState({same: true, open: false});\n      } else {\n        if($(this).attr('aria-before')) {\n          $t.setState({currentMap:$(this).attr('aria-before'), search:$(this).attr('aria-before')});\n          var thisID = $(this).attr('id');\n          $('path').each(function(){\n            if($(this).attr('id')!==thisID) $(this).attr('aria-before','');     \n          })\n        } else {\n          $t.setState({same: false});\n          $('path').each(function(){\n            if($(this).attr('id')!==thisID) $(this).attr('aria-before','');     \n          })\n        }\n        if($t.state.same) {\n          $(this).attr('aria-checked', \"true\");\n          $(this).attr('tabindex', \"0\");\n          $t.openMap(); \n        }\n      }\n    })\n  }\n\n  checkMobile = () => {\n    this.setState({ width: window.innerWidth });\n    sCity = [];\n    $('#sCity').empty();\n    $('#sCity').append('<option value=\"\" disabled selected>縣市</option>');\n    for(var k = 0; k < mData.length; k++) {\n      if(!sCity.includes(mData[k][\"address\"].substring(0,3))) {\n        sCity.push(mData[k][\"address\"].substring(0,3));\n        $('#sCity').append('<option>'+mData[k][\"address\"].substring(0,3)+'</option>');\n      }\n    }\n  }\n\n  detailMap = (e) => {\n    var n = e.target.getAttribute('data-id');\n    var i = e.target.getAttribute('data-order');\n    if(this.state.detail) {\n      this.setState({detail: false, currentClinic: null})\n      // $('#detailInfo').addClass('overflow-y-scroll');\n    } else {\n      this.setState({detail: true, currentClinic: [n, i]})\n      // $('#detailInfo').removeClass('overflow-y-scroll');\n    }\n  }\n\n  openMap = () => {\n    $('#detailInfo').removeClass(\"o-0\");\n    $('#mapInfo').removeClass(\"w-100\");\n    $('#mapInfo').addClass(\"w-50\");\n    this.clinincList()\n    this.setState({open: true, currentClinic: null});\n  }\n\n  resetMap = () => {\n    $('#detailInfo').addClass(\"o-0\");\n    $('#mapInfo').addClass(\"w-100\");\n    $('#mapInfo').removeClass(\"w-50\");\n    var $t = this;\n    var $p = $('path[aria-checked=\"true\"]');\n    $p.attr('aria-checked', \"false\");\n    $p.attr('aria-before', $t.state.currentMap);\n    $p.attr('tabindex', \"-1\");\n    $t.setState({currentMap:null, detail: false, same: true, value: \"\", allList: null, open: false, dis: false});\n\n    $('#sCity option').prop('selected', function() {\n        return this.defaultSelected;\n    });\n    $('#sDis option').prop('selected', function() {\n        return this.defaultSelected;\n    });\n  }\n\n  // Clinic Component\n  clinincList = () => {\n    dis = [];\n    list = [];\n    \n      filteredClinics = mData.filter((s) => {\n        var check = s.city+\" \"+s.name+\" \"+s.address;\n        return check.indexOf(this.state.search) !== -1;\n      });\n      filteredClinics.map((s, i) => {\n        var count = s.address.indexOf('區') - 2;\n        var temp = s.address.substring(count, count+3);\n        if(!dis.includes(temp)) {\n          dis.push(temp);\n          list.push({\n            \"dis\": temp,\n            \"name\": [s.name],\n            \"address\": [s.address],\n            \"phone\": [s.phone]\n          })\n        } else {\n          for(var j = 0; j < list.length; j++){\n            if(list[j][\"dis\"] === temp) {\n              list[j][\"name\"].push(s.name)\n              list[j][\"address\"].push(s.address)\n              list[j][\"phone\"].push(s.phone)\n            }\n          }\n        }\n        return true;\n      });\n      allList = [];\n      var styleH1 = this.state.width <= 969 ? \"white bg-blue-3\" : \"blue-2 bg-white\"\n      for(let j = 0; j < list.length; j++) {\n        var temp = this.state.dis ? (\n          <div className=\"w-100 flex flex-wrap flex-gap tc\" key={j}>\n            {list[j][\"name\"].map((name, i) => (\n              <p className=\"flex-grow-0 w-50 cp f16_ fw4 mv2 pa2\" data-id={j} data-order={i} onClick={this.detailMap}>{name}</p>\n            ))}\n          </div>\n        ):(\n          <div className=\"w-50 tc\" key={j}>\n            <h1 className={ styleH1 + \" fw5 f24_ ph4-l ph3 pv3 brM dib mb0\"}>{list[j][\"dis\"]}</h1>\n            {list[j][\"name\"].map((name, i) => (\n              <p className=\"cp f16_ fw4\" data-id={j} data-order={i} onClick={this.detailMap}>{name}</p>\n            ))}\n          </div>\n        )\n        allList.push(temp);\n      }\n      if(list.length === 0) {\n        var temp1 = (<h3 className=\"tc black w-100 fw5\">無搜尋結果</h3>);\n        allList.push(temp1);\n      }\n      this.setState({allList:allList});\n      \n  }\n\n  handleSelect1(event) {\n    var $t = this;\n    this.setState({value: event.target.value, sCity: event.target.value}, () => {\n      sDis = [];\n      $('#sDis').empty();\n      $('#sDis').append('<option value=\"\" disabled selected>地區</option>');\n      for(var i = 0; i < mData.length; i++) {\n        if(mData[i][\"address\"].includes($t.state.value)) {\n          console.log(mData[i]);  \n          console.log(this.state.value);\n          if(!sDis.includes(mData[i][\"address\"].substring(3,6))) {\n            sDis.push(mData[i][\"address\"].substring(3,6));\n            $('#sDis').append('<option>'+mData[i][\"address\"].substring(3,6)+'</option>');\n          }\n        }\n      }\n    });\n  }\n\n  handleSelect2(event) {\n    this.setState({sDis:event.target.value}, () => {\n      this.setState({value: this.state.sCity+this.state.sDis, dis:true});\n    });\n  }\n\n  handleChange(event) {    \n    this.setState({value: event.target.value});\n  }\n  handleSubmit(event) {\n    this.setState({search:this.state.value}, () => {this.resetMap(); this.openMap()});\n    event.preventDefault();\n  }\n\n  render(){\n    const { width } = this.state;\n    const isMobile = width <= 959;\n    var $t = this;\n    var form = isMobile ? {\n      position: \"relative\",\n      width: \"100%\",\n      borderRadius: \"16px\",\n      fontSize: \"1.2rem\"\n    }:\n    {\n      position: \"absolute\",\n      left: \"0\",\n      right: \"0\",\n      bottom: \"30px\",\n      width: \"235px\",\n      transform: \"translateX(80%)\",\n      borderRadius: \"16px\",\n      backgroundImage: \"url(\"+searchBtn+\")\",\n      backgroundPosition: \"10px center\",\n      backgroundSize: \"30px\",\n      backgroundRepeat: \"no-repeat\"\n    }\n    var inputBox = {\n      borderRadius: \"8px\",\n      width: \"100%\",\n      backgroundImage: \"url(\"+searchBtn+\")\",\n      backgroundPosition: \"10px center\",\n      backgroundSize: \"30px\",\n      backgroundRepeat: \"no-repeat\"\n    }\n\n    var input = isMobile ? {\n      borderRadius: \"8px\",\n      width: \"calc(100% - 40px)\",\n      left: \"40px\"\n    }:\n    {\n      borderRadius: \"8px\",\n      width: \"170px\",\n      left: \"32px\"\n    }\n\n    var box = {\n      minHeight: \"400px\",\n      maxHeight: \"600px\"\n    }\n\n    var page1box = {\n      maxHeight: \"504px\",\n    }\n\n    var drop = {\n      gap: \"16px\",\n    }\n\n    var ahref = (\n      <a href={this.state.currentClinic && filteredClinics ? \"http://maps.google.com/?q=\"+list[this.state.currentClinic[0]][\"name\"][this.state.currentClinic[1]] : null} target='_blank' rel=\"noopener noreferrer\"><img src={mapBtn} className=\"dib cp ml2\" width=\"40\" alt=\"map\"/></a>\n    )\n\n    return (\n        <section id=\"map\" className=\"pv0\">\n          <div className=\"container bg-blue-3 pa4-l pv4 ph3 brBox mh3\">\n            <h2 className=\"title bg-blue-1 pre-wrap lh-copy\">{cData.map[\"title\"]}</h2>\n            <div className=\"description\"></div>\n            {\n                (isMobile) ? \n                (\n                  <div className=\"relative bg-white mh2 brXL mt3\" style={box}>\n                    <div className=\"pa4 absolute w-100\">\n                      <img className=\"db center mt2 mb3\" src={logo3} width=\"60\" alt=\"logo\" />\n                      <form id=\"searchInput\" className=\"center\" style={form} onSubmit={this.handleSubmit}>\n                        <div className=\"bg-blue-3 pa2 mb3\" style={inputBox}>\n                          <input style={input} className=\"bg-white pa2 relative\" type=\"text\" id=\"search\" name=\"clinic\" placeholder=\"輸入診所名稱查詢\" value={this.state.value} onChange={this.handleChange} required/>\n                        </div>\n                        <div className=\"f40 flex mv0\" style={drop}>\n                          <div className=\"tc select flex-grow brS\">\n                            <select name=\"city\" id=\"sCity\" onChange={this.handleSelect1}>\n                              <option value=\"\" disabled selected>縣市</option>\n                            </select>\n                          </div>\n                          <div className=\"tc select flex-grow brS\">\n                            <select name=\"dis\" id=\"sDis\" onChange={this.handleSelect2}>\n                              <option value=\"\" disabled selected>地區</option>\n                            </select>\n                          </div>\n                        </div>\n                        <input className=\"db tc center mt3 bg-blue-1 pv3 cp ph4 white br3 f40 fw5\" type=\"submit\" value=\"查詢\"/>\n                      </form>                       \n                    </div>\n                    <div id=\"detailInfo\" className=\"o-0 pa2 relative z-1 bg-white brXL\" style={box}>\n                      <div className=\"page1 pt5 flex flex-wrap pb4 overflow-y-scroll content-start\" style={page1box}>\n                        {this.state.allList}\n                      </div>\n                      <div className={\"page2 absolute top-0 left-0 w-100 h-100 bg-white ph4 pv5 brXL \"+this.state.detail}>\n                        <div className=\"overflow-y-scroll h-100 mv3 blue-2 tl overflow-x-hidden\">\n                          <h3 className=\"f32_ fw5 mb0\">{this.state.currentClinic && filteredClinics ? list[this.state.currentClinic[0]][\"name\"][this.state.currentClinic[1]] : null}</h3>\n                          <div className=\"flex items-center\">\n                            <p className=\"f24_ dib mr2\">地址：{this.state.currentClinic && filteredClinics ? list[this.state.currentClinic[0]][\"address\"][this.state.currentClinic[1]] : null}</p>\n                            {ahref}\n                          </div>\n                          <hr className=\"bw1 bg-blue-2 mv2\"/>\n                          <p className=\"f18_ fw5 mt4\">門診電話：{this.state.currentClinic && filteredClinics ? list[this.state.currentClinic[0]][\"phone\"][this.state.currentClinic[1]] : null}</p>\n                        </div>\n                        <div className=\"back\" onClick={this.detailMap}><img src={backBtn}  alt=\"back\"/></div>\n                      </div>\n                      <div className=\"close\" onClick={() => {this.resetMap()}}><img src={closeBtn}  alt=\"close\"/></div>\n                    </div>\n                  </div>\n                ):\n                (\n                  <div className=\"mapContainer bg-white center brXL cf pa4 relative mb3\">\n                    <div id=\"mapInfo\" className=\"fl w-100 relative h-100\">\n                      <RadioSVGMap \n                        map={Taiwan}\n                        onChange={function(n){\n                          $t.setState({currentMap:n.id, search:n.id}, () => {\n                            $t.openMap();\n                          });\n                        }}\n                      />\n                      <form id=\"searchInput\" className=\"center bg-blue-3 pa3\" style={form} onSubmit={this.handleSubmit}>\n                        <input style={input} className=\"bg-white pa2 relative\" type=\"text\" id=\"search\" name=\"clinic\" placeholder=\"輸入診所名稱查詢\" value={this.state.value} onChange={this.handleChange} required/>\n                      </form>                       \n                    </div>\n                    <div id=\"detailInfo\" className=\"fl brXL bg-blue-3 o-0 absolute pa2\">\n                      <div className=\"page1 flex flex-wrap overflow-y-scroll h-100 ph4 pv5 content-start\">\n                        {this.state.allList}\n                        <div className=\"close\" onClick={() => {this.resetMap()}}><img alt=\"close\" src={closeBtn}/></div>\n                      </div>\n                      <div className={\"page2 absolute top-0 left-0 w-100 h-100 bg-blue-3 ph4 pv5 brXL \"+this.state.detail}>\n                        <div className=\"overflow-y-scroll h-100 mv3 blue-2 tl\">\n                          <h3 className=\"f24_ fw5 mb0\">{this.state.currentClinic && filteredClinics ? list[this.state.currentClinic[0]][\"name\"][this.state.currentClinic[1]] : null}</h3>\n                          <div className=\"flex items-center\">\n                            <p className=\"f16_ dib\">地址：{this.state.currentClinic && filteredClinics ? list[this.state.currentClinic[0]][\"address\"][this.state.currentClinic[1]] : null}</p>\n                            {ahref}\n                          </div>\n                          <hr className=\"bw1 bg-white mv2\"/>\n                          <p className=\"f16_ fw5 mt4\">門診電話：{this.state.currentClinic && filteredClinics ? list[this.state.currentClinic[0]][\"phone\"][this.state.currentClinic[1]] : null}</p>\n                        </div>\n                        <div className=\"back\" onClick={this.detailMap}><img alt=\"back\" src={backBtn}/></div>\n                        <div className=\"close\" onClick={() => {this.resetMap()}}><img alt=\"close\" src={closeBtn}/></div>\n                      </div>\n                    </div>\n                    <img className=\"absolute pn bottom-0 left-0 pa5 transition\" src={logo3}  alt=\"logo\" width={this.state.open ? \"100\":\"230\"} />\n                  </div>\n                )\n            }\n          </div>\n        </section>\n    )\n  }\n}\nexport default Map"]},"metadata":{},"sourceType":"module"}